<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Keyshaun and Jona</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="src/css/normalize.css">
        <link rel="stylesheet" href="src/css/app.css">
        <link rel="stylesheet" href="src/css/main.css">
        <script src="src/js/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body>
        <div id="container">
          <div id="header">
            <div id="header-content">
              <ul id="nav1">
                <li>about us</li>
                <li>the proposal</li>
                <li>photos</li>
                <li>details</li>
              </ul>
              <div id="logo">
                &nbsp;
              </div>
              <ul id="nav2">
                <li>details</li>
                <li>bridesmaids</li>
                <li>groomsmen</li>
                <li>blog</li>
              </ul>
            </div>
          </div>

          <div id="content">
            <div class="landing-panel">
              <div class="landing-text">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla volutpat aliquet convallis. Suspendisse a mollis tellus. Praesent sit amet bibendum metus. Vestibulum lacinia fringilla mauris et malesuada. In eget dolor ultricies, suscipit libero at, pulvinar leo. Donec sed augue augue. Aenean ut sem vel mauris facilisis tincidunt vitae eget tellus. Proin purus arcu, sollicitudin non interdum non, vulputate at quam. Phasellus ac malesuada purus. Nunc lacinia risus enim, quis facilisis eros sollicitudin et. 
              </div>
            </div>
            <div class="panel">
              <div class="carousel">
                <div class="prev">prev</div>
                <div class="carousel-frame">
                  <ul>
                    <li>hello1</li>
                    <li>hello2</li>
                    <li>hello3</li>
                    <li>hello4</li>
                    <li>hello5</li>
                  </ul>
                </div>
                <div class="next">next</div>
                <div class="links"><ul></ul></div>
              </div>
            </div>
          </div>
        </div>

        <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
        <script src="src/js/plugins.js"></script>
        <script src="src/js/main.js"></script>
        <script type="text/javascript">
          $(document).ready(function(){
            //carousel set up
            $(".carousel-frame ul").each(function(){
              var slides = $(this).children();
              //set ul width
              $(this).width("" + (slides.length * 100) + "%");
              //set slide width
              slides.each(function(){
                $(this).width("" + (100 / slides.length) + "%");
              });
              //initialize data
              $(this).data({
                current_slide: 0,
                num_children: slides.length
              });
            });

            //carousel navigation set up
            function update_slide(slide_list){
              var cur_slide = slide_list.data("current_slide");
              slide_list.animate({left: "" + (cur_slide * -100) + "%"});
            }

            $(".carousel").each(function(){
              var slide_list = $(this).find(".carousel-frame ul");
              var num_children = slide_list.data("num_children");

              $(this).find(".next").click(function(){
                if ((slide_list.data("current_slide") + 1) < num_children) {
                  slide_list.data({current_slide: slide_list.data("current_slide") + 1});
                  update_slide(slide_list);
                }
              });

              $(this).find(".prev").click(function(){
                if (slide_list.data("current_slide") > 0) {
                  slide_list.data({current_slide: slide_list.data("current_slide") - 1});
                  update_slide(slide_list);
                }
              });

              var link_list = $(this).find(".links ul");
              _.each(_.range(num_children), function(i){
                link_list.append("<li>" + i + "</li>");
              });

              var link_width = link_list.find("li").width();
              link_list.width(num_children * link_width);

              link_list.find("li").click(function(){
                  slide_list.data({ current_slide: Number($(this).text()) });
                  update_slide(slide_list);
              });
            });
          });
        </script>
    </body>
</html>
